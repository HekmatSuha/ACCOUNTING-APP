{"ast":null,"code":"var _jsxFileName = \"E:\\\\BizimHesap\\\\accounting-app\\\\frontend\\\\src\\\\pages\\\\PurchaseListPage.js\",\n  _s = $RefreshSig$();\n// frontend/src/pages/PurchaseListPage.js\n\nimport React, { useState, useEffect } from 'react';\nimport axiosInstance from '../utils/axiosInstance';\nimport { Link } from 'react-router-dom';\nimport { Form, Button, Card, Row, Col, Table, Alert, Modal, Spinner } from 'react-bootstrap';\nimport { FaTrash } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst getTodayDate = () => {\n  const today = new Date();\n  const yyyy = today.getFullYear();\n  const mm = String(today.getMonth() + 1).padStart(2, '0');\n  const dd = String(today.getDate()).padStart(2, '0');\n  return `${yyyy}-${mm}-${dd}`;\n};\nfunction PurchaseListPage() {\n  _s();\n  // Data state\n  const [purchases, setPurchases] = useState([]);\n  const [suppliers, setSuppliers] = useState([]);\n  const [products, setProducts] = useState([]);\n\n  // Modal & form state\n  const [showModal, setShowModal] = useState(false);\n  const [formData, setFormData] = useState({\n    supplier_id: '',\n    purchase_date: getTodayDate(),\n    bill_number: '',\n    items: [{\n      product_id: '',\n      quantity: 1,\n      unit_price: ''\n    }]\n  });\n\n  // UI state\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const fetchData = async () => {\n    try {\n      const [purchasesRes, suppliersRes, productsRes] = await Promise.all([axiosInstance.get('/purchases/'), axiosInstance.get('/suppliers/'), axiosInstance.get('/products/')]);\n      setPurchases(purchasesRes.data);\n      setSuppliers(suppliersRes.data);\n      setProducts(productsRes.data);\n    } catch (err) {\n      setError('Could not fetch initial data.');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const handleShowModal = () => {\n    setFormData({\n      supplier_id: '',\n      purchase_date: getTodayDate(),\n      bill_number: '',\n      items: [{\n        product_id: '',\n        quantity: 1,\n        unit_price: ''\n      }]\n    });\n    setShowModal(true);\n    setError('');\n  };\n  const handleCloseModal = () => setShowModal(false);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleItemChange = (index, event) => {\n    const values = [...formData.items];\n    const {\n      name,\n      value\n    } = event.target;\n    values[index][name] = value;\n    if (name === 'product_id') {\n      const selectedProduct = products.find(p => p.id.toString() === value);\n      values[index]['unit_price'] = selectedProduct ? selectedProduct.purchase_price : '';\n    }\n    setFormData(prev => ({\n      ...prev,\n      items: values\n    }));\n  };\n  const handleAddItem = () => {\n    setFormData(prev => ({\n      ...prev,\n      items: [...prev.items, {\n        product_id: '',\n        quantity: 1,\n        unit_price: ''\n      }]\n    }));\n  };\n  const handleRemoveItem = index => {\n    const values = [...formData.items];\n    values.splice(index, 1);\n    setFormData(prev => ({\n      ...prev,\n      items: values\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    const dataToSubmit = {\n      ...formData,\n      supplier_id: parseInt(formData.supplier_id),\n      items: formData.items.map(item => ({\n        product_id: parseInt(item.product_id),\n        quantity: parseFloat(item.quantity),\n        unit_price: parseFloat(item.unit_price)\n      }))\n    };\n    try {\n      await axiosInstance.post('/purchases/', dataToSubmit);\n      fetchData();\n      handleCloseModal();\n    } catch (err) {\n      var _err$response;\n      if (err.response && err.response.data) {\n        const errorData = err.response.data;\n        // --- THIS IS THE FIX ---\n        // We now check if the error message is an array before trying to join it.\n        const errorMessages = Object.keys(errorData).map(key => {\n          const message = errorData[key];\n          const formattedMessage = Array.isArray(message) ? message.join(' ') : message;\n          return `${key}: ${formattedMessage}`;\n        }).join(' \\n');\n        setError(errorMessages);\n      } else {\n        setError('Failed to save purchase. An unknown error occurred.');\n      }\n      console.error('Failed to save purchase:', (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center\",\n    children: /*#__PURE__*/_jsxDEV(Spinner, {\n      animation: \"border\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 54\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        className: \"d-flex justify-content-between align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Purchases\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: handleShowModal,\n          children: \"+ New Purchase\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [error && !showModal && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 45\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          striped: true,\n          bordered: true,\n          hover: true,\n          responsive: true,\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Supplier\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Bill #\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Total Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: purchases.map(purchase => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: purchase.purchase_date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: purchase.supplier_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: purchase.bill_number || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\"$\", parseFloat(purchase.total_amount).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  as: Link,\n                  to: `/purchases/${purchase.id}`,\n                  variant: \"info\",\n                  size: \"sm\",\n                  children: \"View\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 37\n              }, this)]\n            }, purchase.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      onHide: handleCloseModal,\n      size: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Record New Purchase\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Supplier\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                  name: \"supplier_id\",\n                  value: formData.supplier_id,\n                  onChange: handleInputChange,\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select a Supplier\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 41\n                  }, this), suppliers.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: s.id,\n                    children: s.name\n                  }, s.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 61\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Purchase Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"date\",\n                  name: \"purchase_date\",\n                  value: formData.purchase_date,\n                  onChange: handleInputChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Bill / Invoice #\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  name: \"bill_number\",\n                  value: formData.bill_number,\n                  onChange: handleInputChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: \"Items\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 25\n          }, this), formData.items.map((item, index) => /*#__PURE__*/_jsxDEV(Row, {\n            className: \"align-items-end mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 5,\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                name: \"product_id\",\n                value: item.product_id,\n                onChange: e => handleItemChange(index, e),\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select a Product\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 41\n                }, this), products.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: p.id,\n                  children: p.name\n                }, p.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 60\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 2,\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Quantity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"number\",\n                name: \"quantity\",\n                value: item.quantity,\n                onChange: e => handleItemChange(index, e),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 3,\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Unit Price (Cost)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"number\",\n                step: \"0.01\",\n                name: \"unit_price\",\n                value: item.unit_price,\n                onChange: e => handleItemChange(index, e),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 2,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"danger\",\n                onClick: () => handleRemoveItem(index),\n                children: /*#__PURE__*/_jsxDEV(FaTrash, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 102\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 33\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 29\n          }, this)), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: handleAddItem,\n            className: \"mt-2\",\n            children: \"+ Add Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"light\",\n          onClick: handleCloseModal,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: handleSubmit,\n          children: \"Save Purchase\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(PurchaseListPage, \"4MoCaEDPuRiaiJ3iPmrxgajcvsE=\");\n_c = PurchaseListPage;\nexport default PurchaseListPage;\nvar _c;\n$RefreshReg$(_c, \"PurchaseListPage\");","map":{"version":3,"names":["React","useState","useEffect","axiosInstance","Link","Form","Button","Card","Row","Col","Table","Alert","Modal","Spinner","FaTrash","jsxDEV","_jsxDEV","Fragment","_Fragment","getTodayDate","today","Date","yyyy","getFullYear","mm","String","getMonth","padStart","dd","getDate","PurchaseListPage","_s","purchases","setPurchases","suppliers","setSuppliers","products","setProducts","showModal","setShowModal","formData","setFormData","supplier_id","purchase_date","bill_number","items","product_id","quantity","unit_price","loading","setLoading","error","setError","fetchData","purchasesRes","suppliersRes","productsRes","Promise","all","get","data","err","console","handleShowModal","handleCloseModal","handleInputChange","e","name","value","target","prev","handleItemChange","index","event","values","selectedProduct","find","p","id","toString","purchase_price","handleAddItem","handleRemoveItem","splice","handleSubmit","preventDefault","dataToSubmit","parseInt","map","item","parseFloat","post","_err$response","response","errorData","errorMessages","Object","keys","key","message","formattedMessage","Array","isArray","join","className","children","animation","fileName","_jsxFileName","lineNumber","columnNumber","Header","variant","onClick","Body","striped","bordered","hover","responsive","purchase","supplier_name","total_amount","toFixed","as","to","size","show","onHide","closeButton","Title","onSubmit","md","Group","Label","Select","onChange","required","s","Control","type","step","Footer","_c","$RefreshReg$"],"sources":["E:/BizimHesap/accounting-app/frontend/src/pages/PurchaseListPage.js"],"sourcesContent":["// frontend/src/pages/PurchaseListPage.js\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport axiosInstance from '../utils/axiosInstance';\r\nimport { Link } from 'react-router-dom';\r\nimport { Form, Button, Card, Row, Col, Table, Alert, Modal, Spinner } from 'react-bootstrap';\r\nimport { FaTrash } from 'react-icons/fa';\r\n\r\nconst getTodayDate = () => {\r\n    const today = new Date();\r\n    const yyyy = today.getFullYear();\r\n    const mm = String(today.getMonth() + 1).padStart(2, '0');\r\n    const dd = String(today.getDate()).padStart(2, '0');\r\n    return `${yyyy}-${mm}-${dd}`;\r\n};\r\n\r\nfunction PurchaseListPage() {\r\n    // Data state\r\n    const [purchases, setPurchases] = useState([]);\r\n    const [suppliers, setSuppliers] = useState([]);\r\n    const [products, setProducts] = useState([]);\r\n\r\n    // Modal & form state\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [formData, setFormData] = useState({\r\n        supplier_id: '',\r\n        purchase_date: getTodayDate(),\r\n        bill_number: '',\r\n        items: [{ product_id: '', quantity: 1, unit_price: '' }]\r\n    });\r\n\r\n    // UI state\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n            const [purchasesRes, suppliersRes, productsRes] = await Promise.all([\r\n                axiosInstance.get('/purchases/'),\r\n                axiosInstance.get('/suppliers/'),\r\n                axiosInstance.get('/products/')\r\n            ]);\r\n            setPurchases(purchasesRes.data);\r\n            setSuppliers(suppliersRes.data);\r\n            setProducts(productsRes.data);\r\n        } catch (err) {\r\n            setError('Could not fetch initial data.');\r\n            console.error(err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    const handleShowModal = () => {\r\n        setFormData({\r\n            supplier_id: '',\r\n            purchase_date: getTodayDate(),\r\n            bill_number: '',\r\n            items: [{ product_id: '', quantity: 1, unit_price: '' }]\r\n        });\r\n        setShowModal(true);\r\n        setError('');\r\n    };\r\n\r\n    const handleCloseModal = () => setShowModal(false);\r\n\r\n    const handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData(prev => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handleItemChange = (index, event) => {\r\n        const values = [...formData.items];\r\n        const { name, value } = event.target;\r\n        values[index][name] = value;\r\n        if (name === 'product_id') {\r\n            const selectedProduct = products.find(p => p.id.toString() === value);\r\n            values[index]['unit_price'] = selectedProduct ? selectedProduct.purchase_price : '';\r\n        }\r\n        setFormData(prev => ({ ...prev, items: values }));\r\n    };\r\n\r\n    const handleAddItem = () => {\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            items: [...prev.items, { product_id: '', quantity: 1, unit_price: '' }]\r\n        }));\r\n    };\r\n\r\n    const handleRemoveItem = (index) => {\r\n        const values = [...formData.items];\r\n        values.splice(index, 1);\r\n        setFormData(prev => ({ ...prev, items: values }));\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n\r\n        const dataToSubmit = {\r\n            ...formData,\r\n            supplier_id: parseInt(formData.supplier_id),\r\n            items: formData.items.map(item => ({\r\n                product_id: parseInt(item.product_id),\r\n                quantity: parseFloat(item.quantity),\r\n                unit_price: parseFloat(item.unit_price)\r\n            }))\r\n        };\r\n\r\n        try {\r\n            await axiosInstance.post('/purchases/', dataToSubmit);\r\n            fetchData();\r\n            handleCloseModal();\r\n        } catch (err) {\r\n            if (err.response && err.response.data) {\r\n                const errorData = err.response.data;\r\n                // --- THIS IS THE FIX ---\r\n                // We now check if the error message is an array before trying to join it.\r\n                const errorMessages = Object.keys(errorData).map(key => {\r\n                    const message = errorData[key];\r\n                    const formattedMessage = Array.isArray(message) ? message.join(' ') : message;\r\n                    return `${key}: ${formattedMessage}`;\r\n                }).join(' \\n');\r\n                setError(errorMessages);\r\n            } else {\r\n                setError('Failed to save purchase. An unknown error occurred.');\r\n            }\r\n            console.error('Failed to save purchase:', err.response?.data);\r\n        }\r\n    };\r\n\r\n    if (loading) return <div className=\"text-center\"><Spinner animation=\"border\" /></div>;\r\n\r\n    return (\r\n        <>\r\n            <Card>\r\n                <Card.Header className=\"d-flex justify-content-between align-items-center\">\r\n                    <h4>Purchases</h4>\r\n                    <Button variant=\"primary\" onClick={handleShowModal}>\r\n                        + New Purchase\r\n                    </Button>\r\n                </Card.Header>\r\n                <Card.Body>\r\n                    {error && !showModal && <Alert variant=\"danger\">{error}</Alert>}\r\n                    <Table striped bordered hover responsive>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Date</th>\r\n                                <th>Supplier</th>\r\n                                <th>Bill #</th>\r\n                                <th>Total Amount</th>\r\n                                <th>Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {purchases.map(purchase => (\r\n                                <tr key={purchase.id}>\r\n                                    <td>{purchase.purchase_date}</td>\r\n                                    <td>{purchase.supplier_name}</td>\r\n                                    <td>{purchase.bill_number || 'N/A'}</td>\r\n                                    <td>${parseFloat(purchase.total_amount).toFixed(2)}</td>\r\n                                    <td>\r\n                                        <Button as={Link} to={`/purchases/${purchase.id}`} variant=\"info\" size=\"sm\">View</Button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </Table>\r\n                </Card.Body>\r\n            </Card>\r\n\r\n            <Modal show={showModal} onHide={handleCloseModal} size=\"lg\">\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Record New Purchase</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <Row>\r\n                            <Col md={6}>\r\n                                <Form.Group className=\"mb-3\">\r\n                                    <Form.Label>Supplier</Form.Label>\r\n                                    <Form.Select name=\"supplier_id\" value={formData.supplier_id} onChange={handleInputChange} required>\r\n                                        <option value=\"\">Select a Supplier</option>\r\n                                        {suppliers.map(s => <option key={s.id} value={s.id}>{s.name}</option>)}\r\n                                    </Form.Select>\r\n                                </Form.Group>\r\n                            </Col>\r\n                            <Col md={3}>\r\n                                <Form.Group className=\"mb-3\">\r\n                                    <Form.Label>Purchase Date</Form.Label>\r\n                                    <Form.Control type=\"date\" name=\"purchase_date\" value={formData.purchase_date} onChange={handleInputChange} required />\r\n                                </Form.Group>\r\n                            </Col>\r\n                            <Col md={3}>\r\n                                <Form.Group className=\"mb-3\">\r\n                                    <Form.Label>Bill / Invoice #</Form.Label>\r\n                                    <Form.Control type=\"text\" name=\"bill_number\" value={formData.bill_number} onChange={handleInputChange} />\r\n                                </Form.Group>\r\n                            </Col>\r\n                        </Row>\r\n                        <hr />\r\n                        <h6>Items</h6>\r\n                        {formData.items.map((item, index) => (\r\n                            <Row key={index} className=\"align-items-end mb-2\">\r\n                                <Col md={5}>\r\n                                    <Form.Label>Product</Form.Label>\r\n                                    <Form.Select name=\"product_id\" value={item.product_id} onChange={e => handleItemChange(index, e)} required>\r\n                                        <option value=\"\">Select a Product</option>\r\n                                        {products.map(p => <option key={p.id} value={p.id}>{p.name}</option>)}\r\n                                    </Form.Select>\r\n                                </Col>\r\n                                <Col md={2}>\r\n                                    <Form.Label>Quantity</Form.Label>\r\n                                    <Form.Control type=\"number\" name=\"quantity\" value={item.quantity} onChange={e => handleItemChange(index, e)} required />\r\n                                </Col>\r\n                                <Col md={3}>\r\n                                    <Form.Label>Unit Price (Cost)</Form.Label>\r\n                                    <Form.Control type=\"number\" step=\"0.01\" name=\"unit_price\" value={item.unit_price} onChange={e => handleItemChange(index, e)} required />\r\n                                </Col>\r\n                                <Col md={2}>\r\n                                    <Button variant=\"danger\" onClick={() => handleRemoveItem(index)}><FaTrash /></Button>\r\n                                </Col>\r\n                            </Row>\r\n                        ))}\r\n                        <Button variant=\"secondary\" onClick={handleAddItem} className=\"mt-2\">+ Add Item</Button>\r\n                    </Form>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"light\" onClick={handleCloseModal}>Cancel</Button>\r\n                    <Button variant=\"primary\" onClick={handleSubmit}>Save Purchase</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default PurchaseListPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}